(this["webpackJsonpvideo-poker"]=this["webpackJsonpvideo-poker"]||[]).push([[0],{21:function(e,t,a){e.exports=a(52)},26:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),i=(a(26),a(10)),l=a(7),o=a.n(l),u=a(9),d=a(2),m=a(3),h=a(6),f=a(5),w=a(4),v=(a(28),function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).hold=n.hold.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"hold",value:function(){this.props.hold()}},{key:"render",value:function(){var e=this.props,t=e.cardSrc,a=e.alt,n=e.held;return r.a.createElement("div",{className:"Card"},r.a.createElement("img",{className:n?"Card-img Card-held":"Card-img",src:t,alt:a}),this.props.drawsLeft>0?r.a.createElement("button",{className:"Card-holdBtn",onClick:this.hold},"HOLD"):r.a.createElement("button",{className:"Card-gameOverBtn",disabled:!0},"Game Over"))}}]),a}(n.Component)),p=(a(29),function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.cards.map((function(t,a){return r.a.createElement(v,{hold:function(){return e.props.hold(a)},held:e.props.held[a],drawsLeft:e.props.drawsLeft,cardSrc:t.image,card:t.code,alt:"".concat(t.value," of ").concat(t.suit),key:t.code})}));return r.a.createElement("div",{className:"Cards"},t)}}]),a}(n.Component)),E={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,JACK:11,QUEEN:12,KING:13,ACE:14};function g(e){var t,a=[],n=new Set;if(e.forEach((function(e){n.add(E[e.value]),a.push(E[e.value])})),5===n.size){if(function(e){var t=new Set;return e.forEach((function(e){return t.add(e.suit)})),1===t.size}(e))return b(a)?14===((t=a).sort((function(e,t){return t-e})),t[0])?{score:250,msg:"ROYAL FLUSH"}:{score:50,msg:"STRAIGHT FLUSH"}:{score:6,msg:"FLUSH"};if(b(a))return{score:4,msg:"STRAIGHT"}}else if(4===n.size){if(function(e){var t;do{t=e.shift()}while(!e.includes(t));return t>=11}(a))return{score:1,msg:"ONE PAIR, JACKS OR BETTER"}}else{if(3===n.size)return function(e){var t=k(e);for(var a in t)if(3===t[a])return!0}(a)?{score:3,msg:"THREE OF A KIND"}:{score:2,msg:"TWO PAIR"};if(2===n.size)return function(e){var t=k(e);for(var a in t)if(4===t[a])return!0}(a)?{score:25,msg:"FOUR OF A KIND"}:{score:9,msg:"FULL HOUSE"}}return{score:0,msg:"GAME OVER"}}function b(e){return e.sort((function(e,t){return e-t})),e[0]+4===e[4]}function k(e){var t={};return e.forEach((function(e){e in t?t[e]++:t[e]=1})),t}a(30);var O=function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.winnings,a=e.wager,n=e.drawsLeft,c=e.showResults,s=e.updateWager,i=e.bank;return r.a.createElement("div",{className:"Wager"},0===n&&c?t>0?r.a.createElement("h3",null,"You Win $",t,"!"):r.a.createElement("h3",null,"You lose!"):r.a.createElement("div",{className:"Wager-area"},r.a.createElement("h3",{className:"Wager-amount"},"Wager: $",a),r.a.createElement("div",{className:"Wager-buttons"},r.a.createElement("button",{className:"Wager-button",disabled:1===a||n>0,onClick:function(){return s(-1)}},"-"),r.a.createElement("button",{className:"Wager-button",disabled:5===a||a===i||n>0,onClick:function(){return s(1)}},"+"))))}}]),a}(n.Component),N=(a(31),function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cards,a=e.held,n=e.hold,c=e.drawsLeft,s=e.drawCards,i=e.newGame,l=e.showResults,o=e.bank,u=e.wager,d=e.updateWager,m=e.winnings,h=e.reload;return r.a.createElement("div",{className:"PlayArea"},r.a.createElement("div",{className:"PlayArea-info"},r.a.createElement("h3",null,"Bank: $",this.props.bank),0===c?r.a.createElement("h3",{className:"result"},g(t).msg):r.a.createElement("h3",{className:"result"},"\xa0")),r.a.createElement("div",{className:"notcards"},0===o?r.a.createElement("button",{className:"reload-btn",onClick:h},"Reload?"):c>0?r.a.createElement("button",{className:"continue-btn",onClick:s},"Draw!"):r.a.createElement("button",{className:"continue-btn",onClick:i},"New Game"),r.a.createElement(O,{className:"notcards-item",drawsLeft:c,showResults:l,bank:o,winnings:m,updateWager:d,wager:u})),r.a.createElement(p,{cards:t,held:a,hold:n,drawsLeft:c}))}}]),a}(n.Component)),j=(a(32),function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.wager,a=e.winningHand;return r.a.createElement("div",{className:"RulesArea"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"Rules-header"},"PAYOUTS")),r.a.createElement("div",{className:"row ".concat("ROYAL FLUSH"===a&&"winning")},r.a.createElement("div",null,"Royal Flush"),r.a.createElement("div",null,"$",250*t)),r.a.createElement("div",{className:"row\n                            ".concat("STRAIGHT FLUSH"===a&&"winning")},r.a.createElement("div",null,"Straight Flush"),r.a.createElement("div",null,"$",50*t)),r.a.createElement("div",{className:"row \n                            ".concat("FOUR OF A KIND"===a&&"winning")},r.a.createElement("div",null,"Four of a Kind"),r.a.createElement("div",null,"$",25*t)),r.a.createElement("div",{className:"row ".concat("FULL HOUSE"===a&&"winning")},r.a.createElement("div",null,"Full House"),r.a.createElement("div",null,"$",9*t)),r.a.createElement("div",{className:"row ".concat("FLUSH"===a&&"winning")},r.a.createElement("div",null,"Flush"),r.a.createElement("div",null,"$",6*t)),r.a.createElement("div",{className:"row ".concat("STRAIGHT"===a&&"winning")},r.a.createElement("div",null,"Straight"),r.a.createElement("div",null,"$",4*t)),r.a.createElement("div",{className:"row\n                            ".concat("THREE OF A KIND"===a&&"winning")},r.a.createElement("div",null,"Three of a Kind"),r.a.createElement("div",null,"$",3*t)),r.a.createElement("div",{className:"row ".concat("TWO PAIR"===a&&"winning")},r.a.createElement("div",null,"Two Pair"),r.a.createElement("div",null,"$",2*t)),r.a.createElement("div",{className:"row ".concat("ONE PAIR, JACKS OR BETTER"===a&&"winning")},r.a.createElement("div",null,"One Pair, Jacks or Better"),r.a.createElement("div",null,"$",1*t)))}}]),a}(n.Component)),R=a(8),S=a.n(R),C=(a(50),function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={deckID:"",curDraw:[],held:Array(5).fill(!1),numHeld:0,drawsLeft:0,bank:200,wager:1,showResults:!1},n.drawCards=n.drawCards.bind(Object(h.a)(n)),n.toggleHold=n.toggleHold.bind(Object(h.a)(n)),n.newGame=n.newGame.bind(Object(h.a)(n)),n.updateWager=n.updateWager.bind(Object(h.a)(n)),n.reload=n.reload.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1");case 2:return t=e.sent,a=t.data.deck_id,e.next=6,S.a.get("https://deckofcardsapi.com/api/deck/".concat(a,"/draw/?count=5"));case 6:n=e.sent,this.setState({deckID:a,curDraw:n.data.cards});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newGame",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1");case 2:return t=e.sent,a=t.data.deck_id,e.next=6,S.a.get("https://deckofcardsapi.com/api/deck/".concat(a,"/draw/?count=5"));case 6:n=e.sent,this.setState({deckID:a,curDraw:n.data.cards,drawsLeft:2,numHeld:0,showResults:!1,held:Array(5).fill(!1),bank:this.state.bank-this.state.wager});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"drawCards",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://deckofcardsapi.com/api/deck/".concat(this.state.deckID,"/draw/?count=").concat(5-this.state.numHeld));case 2:for(t=e.sent,a=t.data.cards,n=[],r=0;r<5;r++)this.state.held[r]?n.push(null):n.push(a.pop());this.setState((function(e){return{curDraw:e.curDraw.map((function(t,a){return e.held[a]?t:n[a]})),drawsLeft:e.drawsLeft-1}})),0===this.state.drawsLeft&&(this.setState({bank:this.state.bank+g(this.state.curDraw).score*this.state.wager}),setTimeout((function(){c.setState({showResults:!0})}),50),setTimeout((function(){c.setState({showResults:!1})}),2e3));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleHold",value:function(e){this.setState((function(t){return{held:[].concat(Object(i.a)(t.held.slice(0,e)),[!t.held[e]],Object(i.a)(t.held.slice(e+1))),numHeld:t.held[e]?t.numHeld-1:t.numHeld+1}}))}},{key:"updateWager",value:function(e){this.setState({wager:this.state.wager+e})}},{key:"reload",value:function(){this.setState({bank:200})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game-title"},r.a.createElement("h1",null,"Video Poker")),r.a.createElement(N,{showResults:this.state.showResults,cards:this.state.curDraw,held:this.state.held,hold:this.toggleHold,drawCards:this.drawCards,newGame:this.newGame,drawsLeft:this.state.drawsLeft,bank:this.state.bank,wager:this.state.wager,winnings:g(this.state.curDraw).score*this.state.wager,updateWager:this.updateWager,updateBank:this.updateBank,reload:this.reload}),r.a.createElement(j,{wager:this.state.wager,winningHand:g(this.state.curDraw).msg}))}}]),a}(n.Component));a(51);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.ee7657a3.chunk.js.map